apiVersion: descheduler/v1alpha2
kind: DeschedulerPolicy
metadata:
  name: policy
profiles:
- name: removeduplicates
  pluginConfig:
  - name: RemoveDuplicates
    args:
      excludeOwnerKinds:
        - ReplicaSet
  plugins:
    balance:
      enabled:
      - RemoveDuplicates
- name: removepodshavingtoomanyrestarts
  pluginConfig:
  - name: RemovePodsHavingTooManyRestarts
    args:
      podRestartThreshold: 50
      includingInitContainers: true
  plugins:
    deschedule:
      enabled:
      - RemovePodsHavingTooManyRestarts
